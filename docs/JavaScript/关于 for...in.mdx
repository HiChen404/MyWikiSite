---
description: for...in ä¸ for...of çš„åŒºåˆ«
keywords:
  - JavaScript
image: https://picgo-1259617372.cos.ap-beijing.myqcloud.com/Picgo/2022/01/19-11-28-23-404Lab.jpeg
tags: [JavaScript]
---

import Highlight from '../../src/components/highlight'

<img
  className='Badges'
  src='https://picgo-1259617372.cos.ap-beijing.myqcloud.com/logo_chen_%E7%B4%AB%E8%89%B2.svg'
/>

## for...in

`for...in` è¯­å¥ä»¥**ä»»æ„é¡ºåº**è¿­ä»£ä¸€ä¸ªå¯¹è±¡çš„é™¤ Symbol ä»¥å¤–çš„å¯æšä¸¾å±æ€§ï¼Œ**åŒ…æ‹¬ç»§æ‰¿çš„**å¯æšä¸¾å±æ€§ã€‚

<!-- TODO: -->
<!-- æ­¤å¤„å­˜åœ¨ç–‘é—® -->

:::tip Note
for in **ä¸åº”è¯¥**ç”¨äºè¿­ä»£ä¸€ä¸ªå…³æ³¨ç´¢å¼•é¡ºåºçš„ Arrayï¼Œå› ä¸ºå®ƒä¼šæŠŠç´¢å¼•é¡ºåºçš„é”™è¯¯æš´éœ²ç»™ç”¨æˆ·ã€‚

å¦å¤–ï¼Œfor in ä¹Ÿ**ä¸å»ºè®®**ç”¨äºè¿­ä»£æ•°ç»„ã€‚
:::

å®šä¹‰ä¸€ä¸ª **animal** å’Œ **rabbit** å¯¹è±¡ï¼Œrabbit **åŸå‹**ä¸º animal ã€‚

```js
let animal = {
  eats: true,
}

let rabbit = {
  jumps: true,
  __proto__: animal,
}
```

`for...in` ä¼š**è¿­ä»£ç»§æ‰¿çš„å±æ€§**

```js
for (let i in rabbit) {
  console.log(i)
}
//jumps eats
```

### æ€ä¹ˆæ‰èƒ½éå† rabbit è‡ªå·±çš„å±æ€§ï¼Ÿ

#### 1. ä½¿ç”¨ `Object.keys(obj)`

ä»…è¿”å› rabbit å¯¹è±¡è‡ªå·±çš„**å¯æšä¸¾**å±æ€§ã€‚

```js
Object.keys(rabbit)
```

è¿™äº›å±æ€§çš„é¡ºåºä¸æ‰‹åŠ¨éå†è¯¥å¯¹è±¡å±æ€§æ—¶çš„ä¸€è‡´ã€‚

#### 2. ä½¿ç”¨ `obj.hasOwnProperty(key)` è¿‡æ»¤

```js
for (let i in rabbit) {
  if (rabbit.hasOwnProperty(i)) {
    console.log(i)
  }
}
// jumps
```

#### 3. `getOwnPropertyNames`

```js
for (let i in rabbit) {
  console.log(Object.getOwnPropertyNames(rabbit))
}
// [ 'jumps']
```

ä½†è¿™æ ·ä¼šæŠŠ**ä¸å¯æšä¸¾å¯¹è±¡ä¹Ÿè¿”å›**ã€‚

**ä¾‹å¦‚ï¼š**

ä¸‹è¾¹çš„ä»£ç å®šä¹‰äº†ä¸€ä¸ªå¯¹è±¡ **o**ï¼Œå±æ€§ **a** æ˜¯ `enumerable` çš„ï¼Œ**b** ä¸æ˜¯ã€‚

```js
// åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡
var o = { a: 'cat' }

// åœ¨å¯¹è±¡ä¸­æ·»åŠ ä¸€ä¸ªå±æ€§ä¸æ•°æ®æè¿°ç¬¦çš„ç¤ºä¾‹
Object.defineProperty(o, 'b', {
  value: 'dog',
  writable: true,
  enumerable: false,
  configurable: true,
})
```

å¦‚æœç°åœ¨è¿˜è¦ä½¿ç”¨ `Object.getOwnPropertyNames(obj)`ï¼Œå°±ä¼šæŠŠä¸å¯æšä¸¾çš„å±æ€§ä¹Ÿè¿”å›ã€‚

```js
console.log(Object.getOwnPropertyNames(o))
// [ 'a', 'b' ]
// è¿™é‡Œçš„ b æ˜¯ä¸å¯æšä¸¾çš„ã€‚
```

å†æ¯”å¦‚ï¼š

```js
const arr = ['a', 'b', 'c']
console.log(Object.getOwnPropertyNames(arr))
//['0', '1', '2', 'length']
// è¿™é‡Œçš„ length æ˜¯ä¸å¯æšä¸¾çš„ã€‚
```

é€šå¸¸æˆ‘ä»¬å¹¶ä¸éœ€è¦è¿”å›é‚£äº›ä¸å¯æšä¸¾çš„å±æ€§ï¼Œ

æ‰€ä»¥å¯ä»¥ä½¿ç”¨ `Object.prototype.propertyIsEnumerable(prop)` è¿‡æ»¤æ‰ä¸å¯æšä¸¾çš„å±æ€§ã€‚

:::note Note
å¯èƒ½ä½ ä¼šå‘ç°ï¼Œæ—¢ç„¶ for...in ä¼šè¿­ä»£ç»§æ‰¿çš„å±æ€§ï¼Œ é‚£**ä¸ºä»€ä¹ˆ Object.prototype çš„å±æ€§å´æ²¡æœ‰è¢«éå†**å‘¢ï¼Ÿ

è¿™æ˜¯å› ä¸º `Object.prototype` ä¸­çš„å±æ€§æœ‰ `enumerable:false` çš„æ ‡å¿—ã€‚

&nbsp;&nbsp;<Highlight color='#feca57'>åŸºæœ¬åŒ…è£…ç±»å‹çš„åŸå‹å±æ€§æ˜¯ä¸å¯æšä¸¾çš„</Highlight>
:::

æœ€åï¼Œ`for...in` æ˜¯ä¸ºéå†å¯¹è±¡å±æ€§è€Œæ„å»ºçš„ï¼Œä¸å»ºè®®ä¸æ•°ç»„ä¸€èµ·ä½¿ç”¨ã€‚

å¦‚æœä½ åªè¦è€ƒè™‘å¯¹è±¡æœ¬èº«çš„å±æ€§ï¼Œè€Œä¸æ˜¯å®ƒçš„åŸå‹ï¼Œé‚£ä¹ˆä½¿ç”¨ **getOwnPropertyNames()** æˆ–æ‰§è¡Œ
**hasOwnProperty()** æ¥ç¡®å®šæŸå±æ€§æ˜¯å¦æ˜¯å¯¹è±¡æœ¬èº«çš„å±æ€§ï¼ˆä¹Ÿèƒ½ä½¿ç”¨ **propertyIsEnumerable**ï¼‰ã€‚

## **for...of**

`for...of` è¯­å¥åœ¨å¯è¿­ä»£å¯¹è±¡ï¼ˆåŒ…æ‹¬ Arrayï¼ŒMapï¼ŒSetï¼ŒStringï¼ŒTypedArrayï¼Œarguments å¯¹è±¡ç­‰ç­‰ï¼‰ä¸Šåˆ›å»ºä¸€ä¸ªè¿­ä»£å¾ªç¯ï¼Œè°ƒç”¨è‡ªå®šä¹‰è¿­ä»£é’©å­ï¼Œå¹¶ä¸ºæ¯ä¸ªä¸åŒ**å±æ€§çš„å€¼**æ‰§è¡Œè¯­å¥

å¯¹äº **for...of** çš„å¾ªç¯ï¼Œå¯ä»¥ç”± break, throw æˆ– return ç»ˆæ­¢ã€‚

## **for...in** ä¸ **for...of** çš„åŒºåˆ«

å®ƒä»¬ä¹‹é—´çš„ä¸»è¦åŒºåˆ«åœ¨äºå®ƒä»¬çš„<Highlight color="#feca57">è¿­ä»£æ–¹å¼</Highlight>ã€‚

`for...in` ä¸ºäº†éå†ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰é”®ï¼ˆkeyï¼‰ï¼Œè¯­å¥ä»¥ä»»æ„é¡ºåºè¿­ä»£å¯¹è±¡çš„**å¯æšä¸¾å±æ€§**ã€‚

`for...of` è¯­å¥éå†å¯è¿­ä»£å¯¹è±¡å®šä¹‰è¦è¿­ä»£çš„**æ•°æ®**ã€‚

å¹¶ä¸”ï¼Œä¸å»ºè®®ä½¿ç”¨ for...in éå†æ•°ç»„ã€‚

:::note å‚è€ƒï¼š
https://www.cnblogs.com/kongxy/p/4618173.html

https://zh.javascript.info/iterable

https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/propertyIsEnumerable

https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyNames

https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty
:::

<Highlight color='#feca57'>ğŸ‘‡ å¦‚æœä½ æœ‰å¥½çš„æƒ³æ³•ï¼Œè¯·ä¸€èµ·å®Œå–„å§</Highlight>
